<!DOCTYPE html>
<html xmlns="https://jakarta.ee/xml/ns/jakartaee"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core">
    <h:head>
        <title>Ajouter un Enfant</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
        <style>
            html, body {
                height: 100%; /* Prend toute la hauteur de la page */
                margin: 0; /* Élimine les marges par défaut */
                display: flex; /* Utilise Flexbox */
                align-items: center; /* Centre verticalement */
                justify-content: center; /* Centre horizontalement */
                background-color: #f8f9fa; /* Couleur de fond légère */
            }
            .form-container {
                max-width: 600px; /* Largeur maximale du formulaire agrandie */
                width: 100%; /* S'assure que le formulaire est responsive */
                padding: 40px; /* Espacement intérieur agrandi */
                border: 1px solid #ddd; /* Bordure légère */
                border-radius: 15px; /* Coins arrondis */
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Ombre légère */
                background-color: white; /* Fond blanc */
            }
            .form-control {
                height: 50px; /* Hauteur des champs de saisie */
                font-size: 16px; /* Taille de la police */
                border-radius: 10px; /* Coins arrondis des champs de saisie */
            }
            .btn-custom, .btn-return {
                height: 50px; /* Hauteur du bouton */
                font-size: 16px; /* Taille de la police */
                border-radius: 10px; /* Coins arrondis des boutons */
                width: 48%; /* Largeur des boutons */
            }
            .button-group {
                display: flex; /* Utilise Flexbox pour les boutons */
                justify-content: space-between; /* Espace entre les boutons */
                margin-top: 20px; /* Marge supérieure pour séparer des champs */
            }
        </style>
    </h:head>

    <h:body>
        <h:form class="form-container">
            <h3 class="text-center">Ajouter un Enfant</h3>

            <!-- Champ pour le nom de l'enfant -->
            <div class="form-group">
                <h:outputLabel for="nom" value="Nom" class="form-label" />
                <h:inputText id="nom" value="#{enfantBean.nouvelEnfant.nom}" required="true" 
                             styleClass="form-control" />
            </div>

            <!-- Champ pour le prénom de l'enfant -->
            <div class="form-group">
                <h:outputLabel for="prenom" value="Prénom" class="form-label" />
                <h:inputText id="prenom" value="#{enfantBean.nouvelEnfant.prenom}" required="true" 
                             styleClass="form-control" />
            </div>

            <!-- Champ pour la date de naissance de l'enfant -->
            <div class="form-group">
                <h:outputLabel for="dateNaissance" value="Date de Naissance" class="form-label" />
                <h:inputText id="dateNaissance" value="#{enfantBean.nouvelEnfant.dateNaissance}" 
                             styleClass="form-control">
                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                </h:inputText>
            </div>
            

            <!-- Sélection du parent -->
            <div class="form-group">
                <h:outputLabel for="parent" value="Parent" class="form-label" />
                <h:selectOneMenu id="parent" value="#{enfantBean.nouvelEnfant.parent}" styleClass="form-control">
                    <f:selectItems value="#{enfantBean.listeParents}" var="parent" itemLabel="#{parent.nom}" itemValue="#{parent}" />
                    <f:converter converterId="parentConverter" /> <!-- Ajout du convertisseur -->
                </h:selectOneMenu>
            </div>

            <!-- Sélection de la classe -->
            <div class="form-group">
                <h:outputLabel for="classe" value="Classe" class="form-label" />
                <h:selectOneMenu id="classe" value="#{enfantBean.nouvelEnfant.classe}" styleClass="form-control">
                    <f:selectItems value="#{enfantBean.listeClasses}" var="classe" itemLabel="#{classe.nom}" itemValue="#{classe}" />
                    <f:converter converterId="classeConverter" /> <!-- Ajout du convertisseur -->
                </h:selectOneMenu>
            </div>





            <!-- Boutons pour soumettre le formulaire et retour -->
            <div class="form-group button-group">
                <h:commandButton value="Retour" action="#{enfantBean.retourner}" 
                                 styleClass="btn btn-secondary btn-return" />
                
                <h:commandButton value="Ajouter" action="#{enfantBean.ajouterEnfant}" 
                                 styleClass="btn btn-primary btn-custom" />
            </div>

            <!-- Message de confirmation ou d'erreur -->
            <h:messages styleClass="mt-3" />
        </h:form>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    </h:body>
</html>